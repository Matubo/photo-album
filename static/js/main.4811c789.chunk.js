(this["webpackJsonpphoto-album"]=this["webpackJsonpphoto-album"]||[]).push([[0],{24:function(e,t,A){},25:function(e,t,A){},26:function(e,t,A){},30:function(e,t,A){},31:function(e,t,A){},37:function(e,t,A){},38:function(e,t,A){},39:function(e,t,A){},40:function(e,t,A){},41:function(e,t,A){"use strict";A.r(t);var r=A(2),n=A.n(r),c=A(13),a=A.n(c),s=(A(24),A(25),A(9)),i=(A(26),A(8)),o=A(12),u=A(7),l=A.n(u),h=A(5);var f=function(){return fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(e){return e.length<1&&new Error("\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),{error:!1,result:e}})).catch((function(e){return console.log(e),{error:!0,result:null}}))},d=l.a.mark(j),g=l.a.mark(b);function j(e){var t,A;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.b)({type:"STARTFETCHING"});case 2:return e.next=4,Object(h.a)((function(){return f()}));case 4:if(t=e.sent,A=[],t.error){e.next=11;break}t.result.forEach((function(e){A.push({username:e.username,id:e.id})})),e.next=14;break;case 11:return e.next=13,Object(h.b)({type:"SETFETCHINGERROR"});case 13:A.push({username:"fetch error",id:"fetch error"});case 14:return e.next=16,Object(h.b)({type:"SETNEWAUTHORS",newAuthors:A});case 16:return e.next=18,Object(h.b)({type:"FINISHFETCHING"});case 18:case"end":return e.stop()}}),d)}function b(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)("GETNEWAUTHORS",j);case 2:case"end":return e.stop()}}),g)}var p=b;var E=Object(o.a)(),O=Object(i.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authors:null,fetching:!0,fetchingError:!1},t=arguments.length>1?arguments[1]:void 0;return"STARTFETCHING"==t.type?{authors:e.authors,fetching:!0,fetchingError:!1}:"SETFETCHINGERROR"==t.type?{authors:e.authors,fetching:e.fetching,fetchingError:!0}:"FINISHFETCHING"==t.type?{authors:e.authors,fetching:!1,fetchingError:e.fetchingError}:"SETNEWAUTHORS"==t.type?{authors:t.newAuthors,fetching:e.fetching,fetchingError:e.fetchingError}:(t.type,e)}),Object(i.a)(E));E.run(p);var m=O;var x=function(e){return fetch("https://jsonplaceholder.typicode.com/albums?userId=".concat(e)).then((function(e){return e.json()})).then((function(e){return e.length<1&&new Error("\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),{error:!1,result:e}})).catch((function(e){return console.log(e),{error:!0,result:null}}))};var N=function(e){var t;if(Array.isArray(e)){var A=e.map((function(e){return fetch("https://jsonplaceholder.typicode.com/photos?albumId=".concat(e))}));t=Promise.all(A).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){return e.length<1&&new Error("\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),{error:!1,result:e}}))}else t=fetch("https://jsonplaceholder.typicode.com/photos?albumId=".concat(e)).then((function(e){return e.json()})).then((function(e){return e.length<1&&new Error("\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),{error:!1,result:e}}));return t.catch((function(e){return console.log(e),{error:!0,result:null}})),t},v=l.a.mark(C),I=l.a.mark(S);function C(e){var t,A,r,n,c,a,s;return l.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(h.b)({type:"STARTFETCHING"});case 2:return i.next=4,Object(h.a)((function(){return x(e.id)}));case 4:if(t=i.sent,A=[],!t.error){i.next=12;break}return i.next=9,Object(h.b)({type:"SETFETCHINGERROR"});case 9:A.push({userId:"fetch error",id:"fetch error",url:"fetch error",title:"fetch error"}),i.next=18;break;case 12:return r=t.result,n=r.map((function(e){return e.id})),i.next=16,Object(h.a)((function(){return N(n)}));case 16:if((c=i.sent).error)A.push({userId:"fetch error",id:"fetch error",url:"fetch error",title:"fetch error"});else for(a=c.result,console.log("url list"+c),s=0;s<r.length;s++)A.push({userId:r[s].userId,id:r[s].id,title:r[s].title,url:a[s][0].thumbnailUrl});case 18:return i.next=20,Object(h.b)({type:"SETNEWALBUMS",newAlbums:A});case 20:return i.next=22,Object(h.b)({type:"FINISHFETCHING"});case 22:case"end":return i.stop()}}),v)}function S(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)("GETNEWALBUMS",C);case 2:case"end":return e.stop()}}),I)}var F=S;var T=Object(o.a)(),w=Object(i.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{albums:null,fetching:!0,fetchingError:!1},t=arguments.length>1?arguments[1]:void 0;return"STARTFETCHING"==t.type?{albums:e.albums,fetching:!0,fetchingError:!1}:"SETFETCHINGERROR"==t.type?{albums:e.albums,fetching:e.fetching,fetchingError:!0}:"FINISHFETCHING"==t.type?{albums:e.albums,fetching:!1,fetchingError:e.fetchingError}:"SETNEWALBUMS"==t.type?{albums:t.newAlbums,fetching:e.fetching,fetchingError:e.fetchingError}:(t.type,e)}),Object(i.a)(T));T.run(F);var y=w,B=l.a.mark(R),H=l.a.mark(G);function R(e){var t,A,r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(h.b)({type:"STARTFETCHING"});case 2:return n.next=4,Object(h.a)((function(){return N(e.id)}));case 4:if(t=n.sent,A=[],!t.error){n.next=12;break}return n.next=9,Object(h.b)({type:"SETFETCHINGERROR"});case 9:A.push({url:"fetch error",id:"fetch error",title:"fetch error"}),n.next=15;break;case 12:(r=t.result).forEach((function(e){A.push({url:e.url,id:e.id,title:e.title})})),console.log(r);case 15:return console.log(A),n.next=18,Object(h.b)({type:"SETNEWPHOTOS",newPhotos:A});case 18:return n.next=20,Object(h.b)({type:"FINISHFETCHING"});case 20:case"end":return n.stop()}}),B)}function G(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)("GETNEWPHOTOS",R);case 2:case"end":return e.stop()}}),H)}var k=G;var P=Object(o.a)(),U=Object(i.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{photos:null,fetching:!0},t=arguments.length>1?arguments[1]:void 0;return"STARTFETCHING"==t.type?{photos:e.photos,fetching:!0}:"SETFETCHINGERROR"==t.type?{photos:e.photos,fetching:e.fetching,fetchingError:!0}:"FINISHFETCHING"==t.type?{photos:e.photos,fetching:!1,fetchingError:e.fetchingError}:"SETNEWPHOTOS"==t.type?{photos:t.newPhotos,fetching:e.fetching,fetchingError:e.fetchingError}:(t.type,e)}),Object(i.a)(P));P.run(k);var Y=U,W=(A(30),A(31),A(1));var D=function(e){return Object(W.jsxs)("div",{className:"content_heading",children:[Object(W.jsx)("div",{className:"content_heading_name",children:e.name}),Object(W.jsx)("img",{className:"content_heading_button back_button",src:"data:image/png;base64,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",onClick:function(){e.setPreviousStage()}})]})},M=A(11);A(37);function L(e){return Object(W.jsx)("div",{className:"card",onClick:function(){e.callback(e.id)},children:Object(W.jsx)("p",{className:"card_author",children:e.username})})}function V(e){return Object(W.jsxs)("div",{className:"card",children:[Object(W.jsx)("div",{className:"card_img",style:{backgroundImage:"url(".concat(e.url,")")},onClick:function(){e.callback(e.id)}}),Object(W.jsx)("p",{className:"card_title",children:e.title})]})}function Q(e,t){for(var A=[],r=0;r<e.length;r++)A.push(Object(W.jsx)(L,{username:e[r].username,id:e[r].id,callback:t}));return A}var q=Object(M.a)((function(e){return{authors:e.authors,id:e.id,fetching:e.fetching}}))((function(e){return e.fetching?Object(W.jsx)("div",{className:"preloader",children:"\u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435"}):Object(W.jsx)("div",{className:"cards_container",children:Q(e.authors,e.setNextStage)})}));A(38);function X(e,t){for(var A=[],r=0;r<e.length;r++)A.push(Object(W.jsx)("div",{children:Object(W.jsx)(V,{id:e[r].id,url:e[r].url,title:e[r].title,callback:t})}));return A}var z=Object(M.a)((function(e){return{albums:e.albums,fetching:e.fetching,title:e.title}}))((function(e){return e.fetching?Object(W.jsx)("div",{className:"preloader",children:"\u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435"}):Object(W.jsx)("div",{className:"cards_container albums_cards_container",children:X(e.albums,e.setNextStage)})})),J=(A(39),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAOaAAADmgHumOXVAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAP9QTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfOnhEQAAAFR0Uk5TAAUGCAkMDQ4PFBYXGSAiKC4yMzQ1Njg8PT4/QEFCSkxNU1VWZWx1fYCBhouMkpWWn6Kmp6iyt7m6vL3ExcfI0tPV2t/g5+nq7u/w8fLz9PX6/P3+u6bzrAAAAT5JREFUeNrtztk6QgEAxPHhnCIiUvYla9n3PYWyhzDv/ywu+rijq5rzfWfmAeb3B9puZLvcuNlfhmg9pSZJksdpiR9e8Gd3GYV/TioLgjNSWRCcktKCQ1JasEhKC4J7agvGSW3BKsUFRYoLFiguGPxSF+xQXJCoqwvyzy5wgQtc4ILoFORc4AIAuScXuCAKBWMucIELXBCZgqwLkH10gQtc4ILWRl3ggjYFt6G6YAvigs+0uqAAcUGpOwETr38FFMU+58V+c0Drc70L/uQ//nWv1q8P2bffYf/NvtKfsm/ffmz9afv27dsX+TPv9u3bj6s/a9++ffsx9VMPWh8HYn9Y7GNJ7GND7GNN7GNO7KP/ResDK2IfOBH7SFxqfSBZ1vpA8krrA32VX7+m8IFw86PlH6UgWn630qjuFTr0/g3DHj7d53+cVAAAAABJRU5ErkJggg==");A(40);function Z(e){var t=Object(r.useState)({right:"0px"}),A=Object(s.a)(t,2),n=A[0],c=A[1];return Object(r.useEffect)((function(){var e=window.innerWidth-document.body.clientWidth+"px";e!=n.right&&c({right:e})})),Object(W.jsx)("div",{className:"next_button",style:n,onClick:e.callback,children:Object(W.jsx)("img",{src:J})})}function K(e){return Object(W.jsx)("div",{className:"previous_button",onClick:e.callback,children:Object(W.jsx)("img",{src:J})})}var _=function(e){var t=Object(r.useState)(e.id),A=Object(s.a)(t,2),n=A[0],c=A[1];function a(){console.log("next "+n),n<e.photos.length-1?c(n+1):c(0)}return Object(W.jsxs)("div",{className:"carusel_body",onClick:function(t){"carusel_body"==t.target.className&&e.changePopUPStatus()},children:[Object(W.jsx)("img",{src:e.photos[n].url,className:"carusel_element",onClick:a}),Object(W.jsx)(Z,{callback:a}),Object(W.jsx)(K,{callback:function(){console.log("prev "+n),c(n>0?n-1:e.photos.length-1)}}),Object(W.jsx)("p",{className:"carusel_title",children:e.photos[n].title})]})};function $(e,t){for(var A=[],r=0;r<e.length;r++)A.push(Object(W.jsx)(V,{url:e[r].url,id:r,title:e[r].title,callback:t}));return A}var ee=Object(M.a)((function(e){return{photos:e.photos,id:e.id,fetching:e.fetching}}))((function(e){var t=Object(r.useState)({displayed:!1,id:0}),A=Object(s.a)(t,2),n=A[0],c=A[1];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;console.log(e),0==n.displayed?c({displayed:!0,id:e}):c({displayed:!1,id:0})}return e.fetching?Object(W.jsx)("div",{className:"preloader",children:"\u041e\u0436\u0438\u0434\u0430\u0439\u0442\u0435"}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("div",{className:"cards_container",children:$(e.photos,a)}),n.displayed?Object(W.jsx)(_,{changePopUPStatus:a,photos:e.photos,id:n.id}):Object(W.jsx)(W.Fragment,{})]})}));var te=function(e){var t=Object(r.useState)(1),A=Object(s.a)(t,2),n=A[0],c=A[1];function a(){n>1&&c(n-1)}return 1==n?Object(W.jsx)(q,{store:m,setNextStage:function(e){y.dispatch({type:"GETNEWALBUMS",id:e}),c(2)}}):2==n?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(D,{setPreviousStage:a,name:"Albums"}),Object(W.jsx)(z,{store:y,setNextStage:function(e){Y.dispatch({type:"GETNEWPHOTOS",id:e}),c(3)}})]}):3==n?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(D,{setPreviousStage:a,name:"Photos"}),Object(W.jsx)(ee,{store:Y})]}):void 0},Ae=A.p+"static/media/preloader.e04bfe3f.png";var re=function(){var e=Object(r.useState)({displayed:!0}),t=Object(s.a)(e,2),A=t[0],n=t[1];return Object(r.useEffect)((function(){m.dispatch({type:"GETNEWAUTHORS"})}),[]),m.subscribe((function(){m.getState().fetching||n({displayed:!1}),m.getState().fetching&&n({displayed:!0})})),A.displayed?Object(W.jsx)("div",{className:"preloader",children:Object(W.jsx)("img",{src:Ae,className:"preloader_img"})}):Object(W.jsxs)("div",{className:"main",children:[Object(W.jsx)("div",{className:"main_heading",children:Object(W.jsx)("p",{className:"main_heading_name",children:"PhotoGallery"})}),Object(W.jsx)(te,{})]})};var ne=function(){return Object(W.jsx)(re,{})},ce=function(e){e&&e instanceof Function&&A.e(3).then(A.bind(null,42)).then((function(t){var A=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,a=t.getTTFB;A(e),r(e),n(e),c(e),a(e)}))};a.a.render(Object(W.jsx)(n.a.StrictMode,{children:Object(W.jsx)(ne,{})}),document.getElementById("root")),ce()}},[[41,1,2]]]);
//# sourceMappingURL=main.4811c789.chunk.js.map